{% extends "base.html" %}

{% block title %}MMU Security Dashboard - Locations{% endblock %}

{% block body %}

<main>
    <section>
        <h2>Location Management</h2>
        <p>Details about various locations monitored by the MMU Security Dashboard.</p>
    </section>

    <section class="info">
        <div class="info-box">
            <h3>Add New Location</h3>
            <form action="{{ url_for('add_location') }}" method="post">
                <div style="margin-bottom: 10px;">
                    <input type="text" name="location_name" placeholder="Location Name (e.g., Block A)" required style="width: 100%; padding: 8px;">
                </div>
                <div style="margin-bottom: 10px;">
                    <textarea name="location_description" placeholder="Description" style="width: 100%; padding: 8px;"></textarea>
                </div>
                <button type="submit" style="background-color: #004a99; color: white; padding: 10px 20px; border: none; cursor: pointer;">Save Location</button>
            </form>
        </div>
    </section>

    <section class="info">
        <div class="info-box">
            <h3>Existing Locations</h3>
            {% if locations %}
                <table border="1" style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                    <thead>
                        <tr style="background-color: #f2f2f2;">
                            <th style="padding: 10px;">ID</th>
                            <th style="padding: 10px;">Location Name</th>
                            <th style="padding: 10px;">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for loc in locations %}
                        <tr>
                            <td style="padding: 10px; text-align: center;">{{ loc.LocationID }}</td>
                            <td style="padding: 10px;">{{ loc.LocationName }}</td>
                            <td style="padding: 10px;">{{ loc.Description }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No location data available in the database.</p>
            {% endif %}
        </div>
    </section>
</main>

{% endblock %}